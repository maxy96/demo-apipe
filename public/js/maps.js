(()=>{let e;const o=[{chofer:"Chofer 1",patente:"pat-1",estado:"Ocupado",ubicacion:{lat:-27.466736,lng:-58.809367}},{chofer:"Chofer 2",patente:"pat-2",estado:"Disponible",ubicacion:{lat:-27.466355,lng:-58.82825}},{chofer:"Chofer 3",patente:"pat-3",estado:"Disponible",ubicacion:{lat:-27.461481,lng:-58.836318}}],n=document.querySelectorAll(".current-position"),t=document.getElementById("fromAddress"),i=document.getElementById("toAddress");function a(o,n,t){n.setPosition(t),n.setContent(o?"Error: The Geolocation service failed.":"Error: Tu navagador no soporta geolocalizacion."),n.open(e)}function r(o,n){navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>{const i={lat:t.coords.latitude,lng:t.coords.longitude};n.geocode({location:i},((e,n)=>{"OK"==n&&e[0]&&(o.value=e[0].formatted_address)})),e.setCenter(i),new google.maps.Marker({position:i,map:e})}),(()=>{a(!0,infoWindow,e.getCenter())})):a(!1,infoWindow,e.getCenter())}window.initMap=function(){const a=new google.maps.Geocoder;e=new google.maps.Map(document.getElementById("map"),{center:{lat:-27.471381,lng:-58.832112},zoom:13}),function(e){for(remis of o){let o=new google.maps.InfoWindow,n=new google.maps.Marker({icon:{url:"http://localhost:3000/public/images/car.png",scaledSize:new google.maps.Size(25,25)},position:remis.ubicacion,map:e});google.maps.event.addListener(n,"click",function(n,t){return function(){o.setContent(`<div>\n          <p>Chofer: ${t.chofer}</p>\n          <p>Patente: ${t.patente}</p>\n          <p>Estado: ${t.estado}</p>\n        </div>`),o.open(e,n)}}(n,remis))}}(e),n[0].addEventListener("click",(()=>{r(t,a)})),n[1].addEventListener("click",(()=>{r(i,a)}))}})();